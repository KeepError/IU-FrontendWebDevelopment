import{i as q,f as N,h as y,j as L,s as x,n as i,k as A}from"../chunks/scheduler.8746962a.js";import{p as U,t as I,b as V,d as S,S as E,i as j,g as p,h as v,j as $,f as l,k as o,a as k,s as z,m as R,c as G,n as C,y as g,x as M,r as B,u as F,v as H,w as J}from"../chunks/index.e9a9b99a.js";function K(s,e){const c=e.token={};function a(t,n,b,f){if(e.token!==c)return;e.resolved=f;let d=e.ctx;b!==void 0&&(d=d.slice(),d[b]=f);const r=t&&(e.current=t)(d);let w=!1;e.block&&(e.blocks?e.blocks.forEach((h,_)=>{_!==n&&h&&(U(),I(h,1,1,()=>{e.blocks[_]===h&&(e.blocks[_]=null)}),V())}):e.block.d(1),r.c(),S(r,1),r.m(e.mount(),e.anchor),w=!0),e.block=r,e.blocks&&(e.blocks[n]=r),w&&L()}if(q(s)){const t=N();if(s.then(n=>{y(t),a(e.then,1,e.value,n),y(null)},n=>{if(y(t),a(e.catch,2,e.error,n),y(null),!e.hasCatch)throw n}),e.current!==e.pending)return a(e.pending,0),!0}else{if(e.current!==e.then)return a(e.then,1,e.value,s),!0;e.resolved=s}}function O(s,e,c){const a=e.slice(),{resolved:t}=s;s.current===s.then&&(a[s.value]=t),s.current===s.catch&&(a[s.error]=t),s.block.p(a,c)}function Q(s){return{c:i,l:i,m:i,p:i,d:i}}function T(s){let e,c,a,t,n,b=s[1].safe_title+"",f,d,r,w=new Date(Number(s[1].year),Number(s[1].month),Number(s[1].day)).toLocaleDateString()+"",h,_;return{c(){e=p("img"),a=z(),t=p("p"),n=p("span"),f=R(b),d=R(" ("),r=p("span"),h=R(w),_=R(")"),this.h()},l(u){e=v(u,"IMG",{id:!0,alt:!0,src:!0}),a=G(u),t=v(u,"P",{id:!0});var m=$(t);n=v(m,"SPAN",{id:!0});var P=$(n);f=C(P,b),P.forEach(l),d=C(m," ("),r=v(m,"SPAN",{id:!0});var D=$(r);h=C(D,w),D.forEach(l),_=C(m,")"),m.forEach(l),this.h()},h(){o(e,"id","comic-image"),o(e,"alt","comic"),A(e.src,c=s[1].img)||o(e,"src",c),o(n,"id","comic-title"),o(r,"id","comic-date"),o(t,"id","comic-details")},m(u,m){k(u,e,m),k(u,a,m),k(u,t,m),g(t,n),g(n,f),g(t,d),g(t,r),g(r,h),g(t,_)},p:i,d(u){u&&(l(e),l(a),l(t))}}}function W(s){let e,c="loading...";return{c(){e=p("p"),e.textContent=c},l(a){e=v(a,"P",{"data-svelte-h":!0}),M(e)!=="svelte-qeejp2"&&(e.textContent=c)},m(a,t){k(a,e,t)},p:i,d(a){a&&l(e)}}}function X(s){let e,c={ctx:s,current:null,token:null,hasCatch:!1,pending:W,then:T,catch:Q,value:1};return K(s[0],c),{c(){e=p("div"),c.block.c(),this.h()},l(a){e=v(a,"DIV",{id:!0,class:!0});var t=$(e);c.block.l(t),t.forEach(l),this.h()},h(){o(e,"id","comic"),o(e,"class","svelte-as5svg")},m(a,t){k(a,e,t),c.block.m(e,c.anchor=null),c.mount=()=>e,c.anchor=null},p(a,[t]){s=a,O(c,s,t)},i,o:i,d(a){a&&l(e),c.block.d(),c.token=null,c=null}}}async function Y(){const s="e.kuziakov@innopolis.university",e=new URLSearchParams({email:s}),a=await(await fetch(`https://fwd.innopolis.university/api/hw2?${e}`)).json(),t=new URLSearchParams({id:a});return await(await fetch(`https://fwd.innopolis.university/api/comic?${t}`)).json()}function Z(s){return[Y()]}class ee extends E{constructor(e){super(),j(this,e,Z,X,x,{})}}function te(s){let e,c,a;return c=new ee({}),{c(){e=p("div"),B(c.$$.fragment),this.h()},l(t){e=v(t,"DIV",{id:!0,class:!0});var n=$(e);F(c.$$.fragment,n),n.forEach(l),this.h()},h(){o(e,"id","comic-page"),o(e,"class","svelte-wl34bd")},m(t,n){k(t,e,n),H(c,e,null),a=!0},p:i,i(t){a||(S(c.$$.fragment,t),a=!0)},o(t){I(c.$$.fragment,t),a=!1},d(t){t&&l(e),J(c)}}}class ce extends E{constructor(e){super(),j(this,e,null,te,x,{})}}export{ce as component};
